<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DOMO Embed.2</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: system-ui, sans-serif;
      background: #f7f7f8;
      display: flex;
      justify-content: center;
    }
    iframe {
      border: 1px solid #ccc;
      border-radius: 8px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <iframe 
    id="domoFrame"
    src="https://embed.domo.com/embed/pages/qQLW0" 
    width="1248" 
    height="1620" 
    marginheight="0" 
    marginwidth="0" 
    frameborder="0">
  </iframe>

  <!-- Your tracking / postMessage listener script goes here -->
  <script>
     const frame = document.getElementById('domoFrame');

  // Show URL whenever the iframe loads
  frame.addEventListener('load', () => {
    console.log('iframe loaded:', frame.src);
  });

  // Show URL if it changes (e.g., different pfilters/page)
  new MutationObserver(muts => {
    muts.forEach(m => {
      if (m.type === 'attributes' && m.attributeName === 'src') {
        console.log('iframe src changed:', frame.src);
      }
    });
  }).observe(frame, { attributes: true, attributeFilter: ['src'] });

  // Listen for postMessages (if your brick sends them)
  window.addEventListener('message', (e) => {
    if (!e.data || e.data.type !== 'domo:navigate') return;
    console.log('Domo state via postMessage:', e.data.payload);
  });
  </script>
</body>
</html>
